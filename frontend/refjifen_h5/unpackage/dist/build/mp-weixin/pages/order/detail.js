(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/detail"],{"55bf":function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7eb4")),i=a(n("ee10")),o={data:function(){return{id:0,order:{},address:{}}},computed:{statusText:function(){return{0:"等待买家付款",1:"等待卖家发货",2:"卖家已发货",3:"交易成功",4:"交易关闭",5:"售后中"}[this.order.status]||""},statusDesc:function(){return{0:"剩23小时59分自动关闭",1:"您的包裹正在打包中",2:"您的包裹在路上了",3:"感谢您的支持",4:"订单已取消",5:"售后处理中"}[this.order.status]||""}},onLoad:function(e){this.id=e.id,this.loadDetail()},methods:{getRefundStatus:function(e){return["审核中","已同意","已拒绝","已取消"][e]||"未知"},cancelRefund:function(){var t=this;e.showModal({title:"提示",content:"确定撤销售后申请吗？",success:function(){var n=(0,i.default)(r.default.mark((function n(a){var i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.confirm){n.next=13;break}return e.showLoading({title:"处理中"}),n.prev=2,n.next=5,e.$api("mall.php?action=cancel_refund","POST",{order_sn:t.order.order_sn});case 5:i=n.sent,e.hideLoading(),200==i.code?(e.showToast({title:"撤销成功"}),t.loadDetail()):e.showToast({title:i.message,icon:"none"}),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),e.hideLoading();case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()})},previewImage:function(t){e.previewImage({urls:[t]})},loadDetail:function(){var t=this;return(0,i.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api("mall.php?action=order_detail&id=".concat(t.id));case 3:a=n.sent,200==a.code&&(t.order=a.data,t.address=a.data.receiver_info||{}),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},payOrder:function(){e.showToast({title:"跳转支付...",icon:"none"})},cancelOrder:function(){e.showToast({title:"功能开发中",icon:"none"})},confirmReceipt:function(){var t=this;e.showModal({title:"确认收货",content:"确认已收到商品？",success:function(){var n=(0,i.default)(r.default.mark((function n(a){var i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.confirm){n.next=14;break}return e.showLoading({title:"处理中"}),n.prev=2,n.next=5,e.$api("mall.php?action=confirm_receipt","POST",{id:t.id});case 5:i=n.sent,e.hideLoading(),200==i.code?(e.showToast({title:"确认成功"}),t.loadDetail()):e.showToast({title:i.message||"操作失败",icon:"none"}),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),e.hideLoading(),e.showToast({title:"网络错误",icon:"none"});case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()})}}};t.default=o}).call(this,n("df3c")["default"])},5602:function(e,t,n){"use strict";n.r(t);var a=n("55bf"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"5a00":function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("a82b");a(n("3240"));var r=a(n("962e"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"5d1e":function(e,t,n){"use strict";var a=n("7513"),r=n.n(a);r.a},7513:function(e,t,n){},9233:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.order.after_sales_info?e.getRefundStatus(e.order.after_sales_info.status):null),a=e.order.after_sales_info&&e.order.after_sales_info.images?e.order.after_sales_info.images.split(","):null,r=e.__map(e.order.goods_list,(function(t,n){var a=e.__get_orig(t),r=t.image.split(","),i="balance"==e.order.pay_type?parseFloat(t.price):null,o="balance"!=e.order.pay_type?parseFloat(t.price):null;return{$orig:a,g0:r,m1:i,m2:o}}));e._isMounted||(e.e0=function(t,n){var a=arguments[arguments.length-1].currentTarget.dataset,r=a.eventParams||a["event-params"];n=r.img;return e.previewImage(n)}),e.$mp.data=Object.assign({},{$root:{m0:n,l0:a,l1:r}})},r=[]},"962e":function(e,t,n){"use strict";n.r(t);var a=n("9233"),r=n("5602");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("5d1e");var o=n("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=s.exports}},[["5a00","common/runtime","common/vendor"]]]);