(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"093d":function(t,n,e){},"2ee3":function(t,n,e){"use strict";e.r(n);var a=e("9b11"),r=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=r.a},"643d":function(t,n,e){"use strict";var a=e("093d"),r=e.n(a);r.a},"9b11":function(t,n,e){"use strict";(function(t){var a=e("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("7eb4")),o=a(e("ee10")),c={components:{tabBar:function(){e.e("components/tab-bar/tab-bar").then(function(){return resolve(e("a372"))}.bind(null,e)).catch(e.oe)}},data:function(){return{keyword:"",banners:[],list:[],navItems:[]}},computed:{zoneA:function(){return this.list.filter((function(t){return"A"==t.zone}))},zoneB:function(){return this.list.filter((function(t){return"B"==t.zone}))}},onShow:function(){this.loadProducts(),this.loadBanners(),this.loadNavItems()},methods:{loadBanners:function(){var n=this;return(0,o.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api("mall.php?action=banners");case 3:a=e.sent,200==a.code&&a.data.length>0?n.banners=a.data.map((function(t){return t.image.startsWith("/")?"https://ref.tajian.cc"+t.image:t.image})):0==n.banners.length&&(n.banners=["https://via.placeholder.com/600x300/07C160/fff?text=Banner1","https://via.placeholder.com/600x300/1890ff/fff?text=Banner2"]),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},loadNavItems:function(){var n=this;return(0,o.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api("mall.php?action=nav_items");case 3:a=e.sent,200==a.code&&(n.navItems=a.data.map((function(t){return t.icon.startsWith("/")&&(t.icon="https://ref.tajian.cc"+t.icon),t}))),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleNav:function(n){if(1==n.type){if(!n.content)return;n.content.startsWith("http")?window.location.href=n.content:t.navigateTo({url:n.content,fail:function(){t.switchTab({url:n.content})}})}else t.showModal({title:"提示",content:n.content||"板块内容筹建中",showCancel:!1,confirmText:"我知道了"})},loadProducts:function(){var n=this;return(0,o.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api("mall.php?action=products");case 3:a=e.sent,200==a.code&&(n.list=a.data),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},goSearch:function(){this.keyword.trim()&&t.navigateTo({url:"/pages/mall/search?keyword=".concat(encodeURIComponent(this.keyword))})},goDetail:function(n){t.navigateTo({url:"/pages/mall/product?id=".concat(n.id)})},goCategory:function(n){t.navigateTo({url:"/pages/mall/category?zone=".concat(n)})}}};n.default=c}).call(this,e("df3c")["default"])},b772:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a}));var a={tabBar:function(){return e.e("components/tab-bar/tab-bar").then(e.bind(null,"a372"))}},r=function(){var t=this,n=t.$createElement,e=(t._self._c,t.navItems.length),a=t.__map(t.zoneA,(function(n,e){var a=t.__get_orig(n),r=n.image.split(","),o=parseFloat(n.price);return{$orig:a,g1:r,m0:o}})),r=t.__map(t.zoneB,(function(n,e){var a=t.__get_orig(n),r=n.image.split(","),o=parseFloat(n.price);return{$orig:a,g2:r,m1:o}}));t.$mp.data=Object.assign({},{$root:{g0:e,l0:a,l1:r}})},o=[]},cd29:function(t,n,e){"use strict";e.r(n);var a=e("b772"),r=e("2ee3");for(var o in r)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(o);e("643d");var c=e("828b"),i=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=i.exports},f1d8:function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("a82b");a(e("3240"));var r=a(e("cd29"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(r.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])}},[["f1d8","common/runtime","common/vendor"]]]);