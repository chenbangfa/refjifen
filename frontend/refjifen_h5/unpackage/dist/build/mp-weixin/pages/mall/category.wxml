<view class="cat-container"><scroll-view class="left-nav" scroll-y="{{true}}"><block wx:for="{{categories}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['switchCategory',['$0'],[[['categories','id',item.id,'id']]]]]]]}}" class="{{['nav-item',(currentId==item.id)?'active':'']}}" bindtap="__e">{{''+item.name+''}}</view></block></scroll-view><scroll-view class="right-content" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{zone}}"><view class="zone-banner"><block wx:if="{{zone=='A'}}"><text>会员专区 (余额)</text></block><block wx:else><text>兑换专区 (券)</text></block></view></block><view class="list-container"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i1__" wx:key="id"><view data-event-opts="{{[['tap',[['goProduct',['$0'],[[['list','id',item.$orig.id]]]]]]]}}" class="product-item" bindtap="__e"><image class="p-img" src="{{item.g0[0]}}" mode="aspectFill"></image><view class="p-info"><view class="p-title">{{item.$orig.title}}</view><view class="p-unit-sales">{{"已售"+item.$orig.sales+item.$orig.unit}}</view><view class="p-bottom"><block wx:if="{{zone=='A'}}"><view class="p-price">{{"¥"+item.m0}}<text class="p-unit">{{"/"+(item.$orig.unit||'件')}}</text></view></block><block wx:else><view class="p-price" style="color:#ff9800;">{{item.m1}}<text class="p-unit" style="color:#ffcc80;">{{"券/"+(item.$orig.unit||'件')}}</text></view></block><block wx:if="{{item.m2>0}}"><view class="step-control"><view data-event-opts="{{[['tap',[['updateCart',['$0',-1],[[['list','id',item.$orig.id]]]]]]]}}" class="step-btn" catchtap="__e">-</view><view class="step-num">{{item.m3}}</view><view data-event-opts="{{[['tap',[['updateCart',['$0',1],[[['list','id',item.$orig.id]]]]]]]}}" class="step-btn add" catchtap="__e">+</view></view></block><block wx:else><view data-event-opts="{{[['tap',[['addToCart',['$0'],[[['list','id',item.$orig.id]]]]]]]}}" class="cart-btn" catchtap="__e"><svg style="margin-right:2px;" vue-id="{{'0d49f896-1-'+__i1__}}" viewBox="0 0 24 24" width="14" height="14" fill="#fff" bind:__l="__l" vue-slots="{{['default']}}"><path vue-id="{{('0d49f896-2-'+__i1__)+','+('0d49f896-1-'+__i1__)}}" d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4l-3.87 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 14.37 4.84 15 5.5 15h11v-2H5.5l1.1-2z" bind:__l="__l"></path></svg> 加购 </view></block></view></view></view></block><block wx:if="{{$root.g1==0}}"><view class="empty-tip">暂无商品</view></block><view style="height:60px;"></view></view></scroll-view><block wx:if="{{totalCount>0}}"><view class="cart-bar"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cart-left" bindtap="__e"><view class="cart-icon-wrap"><svg vue-id="0d49f896-3" viewBox="0 0 24 24" width="28" height="28" fill="#fff" bind:__l="__l" vue-slots="{{['default']}}"><path vue-id="{{('0d49f896-4')+','+('0d49f896-3')}}" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.59-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" bind:__l="__l"></path></svg><view class="badge">{{totalCount}}</view></view><view class="cart-total"><block wx:if="{{zone=='A'}}"><text class="total-price">{{"¥"+totalPrice}}</text></block><block wx:else><text class="total-price">{{totalPrice+"券"}}</text></block><text class="delivery-tip">免运费</text></view></view><view data-event-opts="{{[['tap',[['goCheckout',['$event']]]]]}}" class="cart-right" bindtap="__e">去结算</view></view></block><block wx:if="{{showCartDetail}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="cart-modal-mask" bindtap="__e"></view></block><block wx:if="{{showCartDetail}}"><view class="cart-popup"><view class="popup-header"><text>已选商品</text><text data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="clear-btn" bindtap="__e"><svg style="margin-right:2px;vertical-align:middle;" vue-id="0d49f896-5" viewBox="0 0 24 24" width="14" height="14" fill="#999" bind:__l="__l" vue-slots="{{['default']}}"><path vue-id="{{('0d49f896-6')+','+('0d49f896-5')}}" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" bind:__l="__l"></path></svg> 清空 </text></view><scroll-view class="popup-list" scroll-y="{{true}}"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="popup-item"><view class="popup-name">{{item.$orig.title}}</view><block wx:if="{{zone=='A'}}"><view class="popup-price">{{"¥"+item.m4}}<text class="p-unit">{{"/"+(item.$orig.unit||'件')}}</text></view></block><block wx:else><view class="popup-price">{{item.m5}}<text class="p-unit">{{"/"+(item.$orig.unit||'件')}}</text>券</view></block><view class="step-control"><view data-event-opts="{{[['tap',[['updateCart',['$0',-1],[[['cart','',index]]]]]]]}}" class="step-btn" bindtap="__e">-</view><view class="step-num">{{item.$orig.qty}}</view><view data-event-opts="{{[['tap',[['updateCart',['$0',1],[[['cart','',index]]]]]]]}}" class="step-btn add" bindtap="__e">+</view></view></view></block></scroll-view></view></block><tab-bar vue-id="0d49f896-7" current="{{currentPath}}" bind:__l="__l"></tab-bar></view>