(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mall/profile"],{1369:function(e,t,n){"use strict";n.r(t);var a=n("9c66"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"53f6":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={tabBar:function(){return n.e("components/tab-bar/tab-bar").then(n.bind(null,"a372"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.getLevelName(e.user.level)),a=e.fmt(e.user.balance),r=e.fmt(e.user.traffic_points),o=e.user.pending_points>0?e.fmt(e.user.pending_points):null,u=e.fmt(e.user.vouchers);e.$mp.data=Object.assign({},{$root:{m0:n,m1:a,m2:r,m3:o,m4:u}})},o=[]},7450:function(e,t,n){"use strict";var a=n("c757"),r=n.n(a);r.a},"91a5":function(e,t,n){"use strict";(function(e,t){var a=n("47a9");n("a82b");a(n("3240"));var r=a(n("abcc"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"9c66":function(e,t,n){"use strict";(function(e){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7eb4")),o=a(n("ee10")),u={components:{tabBar:function(){n.e("components/tab-bar/tab-bar").then(function(){return resolve(n("a372"))}.bind(null,n)).catch(n.oe)}},data:function(){return{user:{},orderCounts:{}}},onShow:function(){this.fetchInfo(),this.fetchOrderCounts()},methods:{fmt:function(e){return parseFloat(e||0).toFixed(2)},fetchOrderCounts:function(){var t=this;return(0,o.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api("mall.php?action=order_counts");case 3:a=n.sent,200==a.code&&(t.orderCounts=a.data),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchInfo:function(){var t=this;return(0,o.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api("account.php?action=info");case 3:a=n.sent,200==a.code&&(t.user=a.data),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},getLevelName:function(e){return{0:"普通会员",1:"VIP会员",2:"金卡会员",3:"钻卡会员"}[e]||"未知"},goAccounts:function(){e.navigateTo({url:"/pages/my/accounts?redirect="+encodeURIComponent("/pages/mall/profile")})},goOrder:function(t){e.navigateTo({url:"/pages/order/list?status=".concat(t)})},goAgent:function(){e.reLaunch({url:"/pages/my/my"})},goProfile:function(){e.navigateTo({url:"/pages/my/profile"})},goAddress:function(){e.navigateTo({url:"/pages/address/list"})},goPayPassword:function(){e.navigateTo({url:"/pages/my/pay_password"})},logout:function(){e.removeStorageSync("token"),e.reLaunch({url:"/pages/login/login"})}}};t.default=u}).call(this,n("df3c")["default"])},abcc:function(e,t,n){"use strict";n.r(t);var a=n("53f6"),r=n("1369");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("7450");var u=n("828b"),c=Object(u["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=c.exports},c757:function(e,t,n){}},[["91a5","common/runtime","common/vendor"]]]);