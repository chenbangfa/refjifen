(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"03ad":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Override global container padding */.container[data-v-71e7eee6]{padding:10px!important;padding-bottom:70px!important;background:#f5f5f5;min-height:100vh;box-sizing:border-box /* Ensure padding includes border */}.search-bar[data-v-71e7eee6]{ \n    /* Use negative margin to span full width if we strictly follow "padding 10px" for container but want sticky header to not look keyline? \n       User showed a screenshot where search bar was full width (gray bg on white). \n       Actually, the "gray" was the search input, "white" was the bar. \n       If the white bar has 30px gap, it looks bad. \n       If I set 10px padding, gap is smaller. \n    */position:-webkit-sticky;position:sticky;top:0;z-index:99;background:#fff;margin:-10px -10px 10px -10px; /* Pull to edges */padding:10px 15px}.search-box[data-v-71e7eee6]{background:#f0f0f0;border-radius:20px;height:35px;display:flex;align-items:center;padding:0 15px}.icon-search[data-v-71e7eee6]{color:#999;margin-right:5px}.search-box uni-input[data-v-71e7eee6]{flex:1;font-size:14px}.banner[data-v-71e7eee6]{width:100%;height:180px;background:#fff;border-radius:8px;overflow:hidden;margin-bottom:10px}\n/* Rounded corners for banner to match layout? User didn\'t ask but "inconsistent width" implies it might need to match card curvature? */.banner-img[data-v-71e7eee6]{width:100%;height:100%}\n/* Navigation Grid */.nav-grid[data-v-71e7eee6]{display:flex;flex-wrap:wrap;background:#fff;padding:15px 0 5px 0;margin-bottom:15px;border-radius:12px}.nav-item[data-v-71e7eee6]{width:20%;display:flex;flex-direction:column;align-items:center;margin-bottom:15px}.nav-icon[data-v-71e7eee6]{width:44px;height:44px;margin-bottom:6px}.nav-name[data-v-71e7eee6]{font-size:12px;color:#333}.zone-section[data-v-71e7eee6]{background:#fff;border-radius:12px;margin-bottom:15px;padding:10px;box-shadow:0 2px 10px rgba(0,0,0,.03);overflow:hidden}.zone-header[data-v-71e7eee6]{display:flex;align-items:center;justify-content:space-between;padding:10px;margin:-10px -10px 10px -10px}\n/* Header variants */.header-a[data-v-71e7eee6]{background:linear-gradient(90deg,#e8f5eb,#fff)}.header-b[data-v-71e7eee6]{background:linear-gradient(90deg,#fff7e6,#fff)}.zone-title[data-v-71e7eee6]{font-size:16px;font-weight:700;color:#333;margin-right:8px}.zone-sub[data-v-71e7eee6]{font-size:12px;color:#999}.zone-more[data-v-71e7eee6]{font-size:12px;color:#666;display:flex;align-items:center}.zone-more .iconfont[data-v-71e7eee6]{font-size:12px;margin-left:2px}.product-grid[data-v-71e7eee6]{display:flex;flex-wrap:wrap;justify-content:space-between}.product-item[data-v-71e7eee6]{width:48.5%;background:#fff;border-radius:8px;margin-bottom:10px;overflow:hidden;border:1px solid #f9f9f9;box-shadow:none}.p-img[data-v-71e7eee6]{width:100%;height:150px;background:#f5f5f5}.p-info[data-v-71e7eee6]{padding:8px}.p-title[data-v-71e7eee6]{font-size:14px;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:5px;font-weight:700}.p-meta[data-v-71e7eee6]{display:flex;justify-content:space-between;align-items:flex-end}.p-price[data-v-71e7eee6]{font-size:16px;color:#07c160;font-weight:700;line-height:1}.p-sales[data-v-71e7eee6]{font-size:10px;color:#bbb}.p-unit[data-v-71e7eee6]{font-size:12px;color:#ccc;font-weight:400;margin-left:1px}',""]),e.exports=t},"0511":function(e,t,n){var a=n("d7c8");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("501b0bda",a,!0,{sourceMap:!1,shadowMode:!1})},"0e10":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("2634")),s=a(n("2fdc"));n("8f71"),n("bf0f"),n("fd3c"),n("9db6"),n("0c26");var c=a(n("a372")),o={components:{tabBar:c.default},data:function(){return{keyword:"",banners:[],list:[],navItems:[]}},computed:{zoneA:function(){return this.list.filter((function(e){return"A"==e.zone}))},zoneB:function(){return this.list.filter((function(e){return"B"==e.zone}))}},onShow:function(){this.loadProducts(),this.loadBanners(),this.loadNavItems()},methods:{loadBanners:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uni.$api("mall.php?action=banners");case 3:n=t.sent,200==n.code&&n.data.length>0?e.banners=n.data.map((function(e){return e.image.startsWith("/")?"https://ref.tajian.cc"+e.image:e.image})):0==e.banners.length&&(e.banners=["https://via.placeholder.com/600x300/07C160/fff?text=Banner1","https://via.placeholder.com/600x300/1890ff/fff?text=Banner2"]),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},loadNavItems:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uni.$api("mall.php?action=nav_items");case 3:n=t.sent,200==n.code&&(e.navItems=n.data.map((function(e){return e.icon.startsWith("/")&&(e.icon="https://ref.tajian.cc"+e.icon),e}))),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleNav:function(e){if(1==e.type){if(!e.content)return;e.content.startsWith("http")?window.location.href=e.content:uni.navigateTo({url:e.content,fail:function(){uni.switchTab({url:e.content})}})}else uni.showModal({title:"提示",content:e.content||"板块内容筹建中",showCancel:!1,confirmText:"我知道了"})},loadProducts:function(){var e=this;return(0,s.default)((0,i.default)().mark((function t(){var n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uni.$api("mall.php?action=products");case 3:n=t.sent,200==n.code&&(e.list=n.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},goSearch:function(){this.keyword.trim()&&uni.navigateTo({url:"/pages/mall/search?keyword=".concat(encodeURIComponent(this.keyword))})},goDetail:function(e){uni.navigateTo({url:"/pages/mall/product?id=".concat(e.id)})},goCategory:function(e){uni.navigateTo({url:"/pages/mall/category?zone=".concat(e)})}}};t.default=o},"2ee3":function(e,t,n){"use strict";n.r(t);var a=n("0e10"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},"37f8":function(e,t,n){"use strict";var a=n("fd88"),i=n.n(a);i.a},"4e82":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("4626"),n("5ac7");var a={props:{current:{type:String,default:""}},data:function(){return{icons:{home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",home_active:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",member:"M12 2l-5.5 9h11L12 2zm0 3.8l2.6 4.2h-5.2L12 5.8zM5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z",member_active:"M5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z M12 2L6.5 11h11L12 2z",exchange:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V9h8v2zm-10 8H4v-2h6v2zm0-4H4v-2h6v2zm0-4H4V9h6v2z",order:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",profile:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",team:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",message:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}},computed:{mallList:function(){return[{pagePath:"pages/index/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/mall/category?zone=A",text:"会员专区",iconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z",selectedIconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z"},{pagePath:"pages/mall/category?zone=B",text:"兑换专区",iconPath:this.icons.exchange,selectedIconPath:this.icons.exchange},{pagePath:"pages/order/list",text:"订单",iconPath:this.icons.order,selectedIconPath:this.icons.order},{pagePath:"pages/mall/profile",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},agentList:function(){return[{pagePath:"pages/agent/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/team/tree",text:"团队",iconPath:this.icons.team,selectedIconPath:this.icons.team},{pagePath:"pages/message/list",text:"消息",iconPath:this.icons.message,selectedIconPath:this.icons.message},{pagePath:"pages/my/my",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},list:function(){var e=this.current;return e.includes("pages/agent")||e.includes("pages/team")||e.includes("pages/message")||"pages/my/my"===e?this.agentList:this.mallList}},methods:{switchTab:function(e){var t="/"+e.pagePath;uni.redirectTo({url:t})}}};t.default=a},a372:function(e,t,n){"use strict";n.r(t);var a=n("dbce"),i=n("c1d6");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("e226");var c=n("828b"),o=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"72b1d97c",null,!1,a["a"],void 0);t["default"]=o.exports},c1d6:function(e,t,n){"use strict";n.r(t);var a=n("4e82"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},cd29:function(e,t,n){"use strict";n.r(t);var a=n("d402"),i=n("2ee3");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("37f8");var c=n("828b"),o=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"71e7eee6",null,!1,a["a"],void 0);t["default"]=o.exports},d402:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var a={tabBar:n("a372").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"search-bar"},[n("v-uni-view",{staticClass:"search-box"},[n("v-uni-text",{staticClass:"iconfont icon-search"}),n("v-uni-input",{attrs:{type:"text",placeholder:"搜索商品"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.goSearch.apply(void 0,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1),n("v-uni-swiper",{staticClass:"banner",attrs:{circular:!0,autoplay:!0,interval:"3000","indicator-dots":!0}},e._l(e.banners,(function(e,t){return n("v-uni-swiper-item",{key:t},[n("v-uni-image",{staticClass:"banner-img",attrs:{src:e,mode:"aspectFill"}})],1)})),1),e.navItems.length>0?n("v-uni-view",{staticClass:"nav-grid"},e._l(e.navItems,(function(t,a){return n("v-uni-view",{key:a,staticClass:"nav-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleNav(t)}}},[n("v-uni-image",{staticClass:"nav-icon",attrs:{src:t.icon,mode:"aspectFill"}}),n("v-uni-text",{staticClass:"nav-name"},[e._v(e._s(t.name))])],1)})),1):e._e(),n("v-uni-view",{staticClass:"zone-section"},[n("v-uni-view",{staticClass:"zone-header header-a",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goCategory("A")}}},[n("v-uni-view",{staticStyle:{flex:"1"}},[n("v-uni-text",{staticClass:"zone-title"},[e._v("会员专区")]),n("v-uni-text",{staticClass:"zone-sub"},[e._v("余额购买 · 赠送流量分")])],1),n("v-uni-view",{staticClass:"zone-more"},[e._v("更多 "),n("v-uni-text",{staticClass:"iconfont icon-right"})],1)],1),n("v-uni-view",{staticClass:"product-grid"},e._l(e.zoneA,(function(t){return n("v-uni-view",{key:t.id,staticClass:"product-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.goDetail(t)}}},[n("v-uni-image",{staticClass:"p-img",attrs:{src:t.image.split(",")[0],mode:"aspectFill"}}),n("v-uni-view",{staticClass:"p-info"},[n("v-uni-view",{staticClass:"p-title"},[e._v(e._s(t.title))]),n("v-uni-view",{staticClass:"p-meta"},[n("v-uni-view",{staticClass:"p-price"},[e._v("¥"+e._s(parseFloat(t.price))),n("v-uni-text",{staticClass:"p-unit"},[e._v("/"+e._s(t.unit||"件"))])],1),n("v-uni-view",{staticClass:"p-sales"},[e._v("已售"+e._s(t.sales))])],1)],1)],1)})),1)],1),n("v-uni-view",{staticClass:"zone-section"},[n("v-uni-view",{staticClass:"zone-header header-b",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goCategory("B")}}},[n("v-uni-view",{staticStyle:{flex:"1"}},[n("v-uni-text",{staticClass:"zone-title"},[e._v("兑换专区")]),n("v-uni-text",{staticClass:"zone-sub"},[e._v("购物券兑换 · 超值好物")])],1),n("v-uni-view",{staticClass:"zone-more"},[e._v("更多 "),n("v-uni-text",{staticClass:"iconfont icon-right"})],1)],1),n("v-uni-view",{staticClass:"product-grid"},e._l(e.zoneB,(function(t){return n("v-uni-view",{key:t.id,staticClass:"product-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.goDetail(t)}}},[n("v-uni-image",{staticClass:"p-img",attrs:{src:t.image.split(",")[0],mode:"aspectFill"}}),n("v-uni-view",{staticClass:"p-info"},[n("v-uni-view",{staticClass:"p-title"},[e._v(e._s(t.title))]),n("v-uni-view",{staticClass:"p-meta"},[n("v-uni-view",{staticClass:"p-price",staticStyle:{color:"#ff9800"}},[e._v(e._s(parseFloat(t.price))),n("v-uni-text",{staticClass:"p-unit",staticStyle:{color:"#ffcc80"}},[e._v("券/"+e._s(t.unit||"件"))])],1),n("v-uni-view",{staticClass:"p-sales"},[e._v("已售"+e._s(t.sales))])],1)],1)],1)})),1)],1),n("tab-bar",{attrs:{current:"pages/index/index"}})],1)},s=[]},d7c8:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".tab-bar[data-v-72b1d97c]{position:fixed;bottom:0;left:0;right:0;height:50px;background:#fff;display:flex;padding-bottom:env(safe-area-inset-bottom);border-top:1px solid #eee;z-index:999}.tab-bar-item[data-v-72b1d97c]{flex:1;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}.icon-area[data-v-72b1d97c]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-bottom:2px}.tab-icon[data-v-72b1d97c]{width:24px;height:24px}.tab-text[data-v-72b1d97c]{font-size:10px;color:#7a7e83}.tab-text.active[data-v-72b1d97c]{color:#07c160}",""]),e.exports=t},dbce:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tab-bar"},e._l(e.list,(function(t,a){return n("v-uni-view",{key:a,staticClass:"tab-bar-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.switchTab(t)}}},[n("v-uni-view",{staticClass:"icon-area"},[n("svg",{staticClass:"tab-icon",attrs:{viewBox:"0 0 24 24",width:"24",height:"24"}},[n("path",{attrs:{d:e.current===t.pagePath?t.selectedIconPath:t.iconPath,fill:e.current===t.pagePath?"#07C160":"#7A7E83"}})])]),n("v-uni-view",{staticClass:"tab-text",class:{active:e.current===t.pagePath}},[e._v(e._s(t.text))])],1)})),1)},i=[]},e226:function(e,t,n){"use strict";var a=n("0511"),i=n.n(a);i.a},fd88:function(e,t,n){var a=n("03ad");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("b0ed4bcc",a,!0,{sourceMap:!1,shadowMode:!1})}}]);