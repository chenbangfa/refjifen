(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-tree"],{"0511":function(t,e,a){var i=a("d7c8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("501b0bda",i,!0,{sourceMap:!1,shadowMode:!1})},"414b":function(t,e,a){"use strict";a.r(e);var i=a("422f"),n=a("6584");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("71ee");var c=a("828b"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"441703df",null,!1,i["a"],void 0);e["default"]=o.exports},"422f":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={tabBar:a("a372").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[t.team.root?a("v-uni-view",{staticClass:"node-wrapper root-wrapper"},[a("v-uni-view",{staticClass:"node-card"},[a("v-uni-view",{staticClass:"node-avatar"},[a("svg",{attrs:{viewBox:"0 0 24 24",width:"24",height:"24"}},[a("path",{attrs:{fill:"#1890ff",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}})])]),a("v-uni-view",{staticClass:"node-info"},[a("v-uni-view",{staticClass:"node-name"},[t._v(t._s(t.team.root.nickname||"用户"+t.team.root.id))]),a("v-uni-view",{staticClass:"node-id"},[t._v("ID: "+t._s(t.team.root.id))])],1)],1),a("v-uni-view",{staticClass:"node-stats"},[a("v-uni-view",{staticClass:"stat-box left"},[a("v-uni-view",{staticClass:"stat-val"},[t._v(t._s(t.fmt(t.team.root.left_total)))]),a("v-uni-view",{staticClass:"stat-lbl"},[t._v("左区业绩")])],1),a("v-uni-view",{staticClass:"stat-box center",staticStyle:{"border-right":"1px solid #eee"}},[a("v-uni-view",{staticClass:"stat-val",staticStyle:{color:"#1890ff"}},[t._v(t._s(t.fmt(t.team.root.personal_performance)))]),a("v-uni-view",{staticClass:"stat-lbl"},[t._v("个人业绩")])],1),a("v-uni-view",{staticClass:"stat-box right"},[a("v-uni-view",{staticClass:"stat-val"},[t._v(t._s(t.fmt(t.team.root.right_total)))]),a("v-uni-view",{staticClass:"stat-lbl"},[t._v("右区业绩")])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"branches"},[a("v-uni-view",{staticClass:"branch"},[a("v-uni-view",{staticClass:"line-connect-left"}),t.team.left?a("v-uni-view",{staticClass:"node-wrapper"},[a("v-uni-view",{staticClass:"node-card sub-card"},[a("v-uni-view",{staticClass:"node-name"},[t._v(t._s(t.team.left.nickname||"用户"+t.team.left.id))]),a("v-uni-view",{staticClass:"node-id"},[t._v("ID: "+t._s(t.team.left.id))])],1),a("v-uni-view",{staticClass:"node-stats sub-stats"},[a("v-uni-view",{staticClass:"stat-row",staticStyle:{color:"#1890ff"}},[t._v("个人: "+t._s(t.fmt(t.team.left.personal_performance)))]),a("v-uni-view",{staticClass:"stat-row"},[t._v("L: "+t._s(t.fmt(t.team.left.left_total)))]),a("v-uni-view",{staticClass:"stat-row"},[t._v("R: "+t._s(t.fmt(t.team.left.right_total)))])],1)],1):a("v-uni-view",{staticClass:"empty-node"},[a("v-uni-view",{staticClass:"plus-icon"},[t._v("+")]),a("v-uni-view",{staticClass:"empty-text"},[t._v("左区空缺")])],1)],1),a("v-uni-view",{staticClass:"branch"},[a("v-uni-view",{staticClass:"line-connect-right"}),t.team.right?a("v-uni-view",{staticClass:"node-wrapper"},[a("v-uni-view",{staticClass:"node-card sub-card"},[a("v-uni-view",{staticClass:"node-name"},[t._v(t._s(t.team.right.nickname||"用户"+t.team.right.id))]),a("v-uni-view",{staticClass:"node-id"},[t._v("ID: "+t._s(t.team.right.id))])],1),a("v-uni-view",{staticClass:"node-stats sub-stats"},[a("v-uni-view",{staticClass:"stat-row",staticStyle:{color:"#1890ff"}},[t._v("个人: "+t._s(t.fmt(t.team.right.personal_performance)))]),a("v-uni-view",{staticClass:"stat-row"},[t._v("L: "+t._s(t.fmt(t.team.right.left_total)))]),a("v-uni-view",{staticClass:"stat-row"},[t._v("R: "+t._s(t.fmt(t.team.right.right_total)))])],1)],1):a("v-uni-view",{staticClass:"empty-node"},[a("v-uni-view",{staticClass:"plus-icon"},[t._v("+")]),a("v-uni-view",{staticClass:"empty-text"},[t._v("右区空缺")])],1)],1)],1),a("tab-bar",{attrs:{current:"pages/team/tree"}})],1)},s=[]},"4e82":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4626"),a("5ac7");var i={props:{current:{type:String,default:""}},data:function(){return{icons:{home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",home_active:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",member:"M12 2l-5.5 9h11L12 2zm0 3.8l2.6 4.2h-5.2L12 5.8zM5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z",member_active:"M5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z M12 2L6.5 11h11L12 2z",exchange:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V9h8v2zm-10 8H4v-2h6v2zm0-4H4v-2h6v2zm0-4H4V9h6v2z",order:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",profile:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",team:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",message:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}},computed:{mallList:function(){return[{pagePath:"pages/index/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/mall/category?zone=A",text:"会员专区",iconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z",selectedIconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z"},{pagePath:"pages/mall/category?zone=B",text:"兑换专区",iconPath:this.icons.exchange,selectedIconPath:this.icons.exchange},{pagePath:"pages/order/list",text:"订单",iconPath:this.icons.order,selectedIconPath:this.icons.order},{pagePath:"pages/mall/profile",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},agentList:function(){return[{pagePath:"pages/agent/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/team/tree",text:"团队",iconPath:this.icons.team,selectedIconPath:this.icons.team},{pagePath:"pages/message/list",text:"消息",iconPath:this.icons.message,selectedIconPath:this.icons.message},{pagePath:"pages/my/my",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},list:function(){var t=this.current;return t.includes("pages/agent")||t.includes("pages/team")||t.includes("pages/message")||"pages/my/my"===t?this.agentList:this.mallList}},methods:{switchTab:function(t){var e="/"+t.pagePath;uni.redirectTo({url:e})}}};e.default=i},"533d":function(t,e,a){var i=a("eb32");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("171409ba",i,!0,{sourceMap:!1,shadowMode:!1})},6584:function(t,e,a){"use strict";a.r(e);var i=a("8e6e"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"71ee":function(t,e,a){"use strict";var i=a("533d"),n=a.n(i);n.a},"8e6e":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2634")),s=i(a("2fdc"));a("e838");var c=i(a("a372")),o={components:{tabBar:c.default},data:function(){return{team:{}}},onShow:function(){this.loadTeam()},methods:{fmt:function(t){return parseFloat(t||0).toFixed(2)},loadTeam:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uni.$api("account.php?action=team");case 3:a=e.sent,200==a.code&&(t.team=a.data),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}};e.default=o},a372:function(t,e,a){"use strict";a.r(e);var i=a("dbce"),n=a("c1d6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e226");var c=a("828b"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"72b1d97c",null,!1,i["a"],void 0);e["default"]=o.exports},c1d6:function(t,e,a){"use strict";a.r(e);var i=a("4e82"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d7c8:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".tab-bar[data-v-72b1d97c]{position:fixed;bottom:0;left:0;right:0;height:50px;background:#fff;display:flex;padding-bottom:env(safe-area-inset-bottom);border-top:1px solid #eee;z-index:999}.tab-bar-item[data-v-72b1d97c]{flex:1;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}.icon-area[data-v-72b1d97c]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-bottom:2px}.tab-icon[data-v-72b1d97c]{width:24px;height:24px}.tab-text[data-v-72b1d97c]{font-size:10px;color:#7a7e83}.tab-text.active[data-v-72b1d97c]{color:#07c160}",""]),t.exports=e},dbce:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tab-bar"},t._l(t.list,(function(e,i){return a("v-uni-view",{key:i,staticClass:"tab-bar-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchTab(e)}}},[a("v-uni-view",{staticClass:"icon-area"},[a("svg",{staticClass:"tab-icon",attrs:{viewBox:"0 0 24 24",width:"24",height:"24"}},[a("path",{attrs:{d:t.current===e.pagePath?e.selectedIconPath:e.iconPath,fill:t.current===e.pagePath?"#07C160":"#7A7E83"}})])]),a("v-uni-view",{staticClass:"tab-text",class:{active:t.current===e.pagePath}},[t._v(t._s(e.text))])],1)})),1)},n=[]},e226:function(t,e,a){"use strict";var i=a("0511"),n=a.n(i);n.a},eb32:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'.container[data-v-441703df]{padding:20px;min-height:100vh;background:#f5f7fa;padding-top:40px}.node-wrapper[data-v-441703df]{display:flex;flex-direction:column;align-items:center;position:relative;z-index:2}.root-wrapper[data-v-441703df]{margin-bottom:40px}.root-wrapper[data-v-441703df]::after{content:"";position:absolute;bottom:-40px;left:50%;width:2px;height:40px;background:#ccc;z-index:1;margin-left:-1px}.node-card[data-v-441703df]{background:#fff;border-radius:8px;padding:10px 20px;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;align-items:center;min-width:160px;justify-content:center}.node-avatar[data-v-441703df]{width:36px;height:36px;background:#e6f7ff;border-radius:18px;display:flex;justify-content:center;align-items:center;margin-right:10px;color:#1890ff}.node-info[data-v-441703df]{text-align:left}.node-name[data-v-441703df]{font-weight:700;font-size:14px;color:#333}.node-id[data-v-441703df]{font-size:12px;color:#999}.node-stats[data-v-441703df]{display:flex;margin-top:-10px;background:#fff;border-radius:20px;padding:5px 15px;box-shadow:0 2px 6px rgba(0,0,0,.1);border:1px solid #eee;z-index:3;position:relative;top:10px}.stat-box[data-v-441703df]{text-align:center;padding:0 10px}.stat-box.left[data-v-441703df]{border-right:1px solid #eee}.stat-val[data-v-441703df]{color:#52c41a;font-weight:700;font-size:14px}.right .stat-val[data-v-441703df]{color:#f5222d}.stat-lbl[data-v-441703df]{font-size:10px;color:#999}\n\n/* Branches */.branches[data-v-441703df]{display:flex;justify-content:space-between;position:relative;padding:0 2%}\n\n/* Connecting horizontal line */.branches[data-v-441703df]::before{content:"";position:absolute;top:0;left:25%;width:50%;height:2px;background:#ccc;z-index:1}.branch[data-v-441703df]{width:48%;display:flex;flex-direction:column;align-items:center;position:relative;padding-top:30px}.branch[data-v-441703df]::before{content:"";position:absolute;top:0;left:50%;width:2px;height:30px;background:#ccc;margin-left:-1px}.sub-card[data-v-441703df]{min-width:120px;padding:10px;flex-direction:column;text-align:center}.sub-card .node-info[data-v-441703df]{text-align:center}.sub-stats[data-v-441703df]{flex-direction:column;margin-top:0;padding:5px;width:100%;box-sizing:border-box;top:5px;min-width:100px}.stat-row[data-v-441703df]{font-size:12px;color:#666;margin:2px 0;display:flex;justify-content:space-between;width:100%}.empty-node[data-v-441703df]{width:60px;height:60px;border:2px dashed #ddd;border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff}.plus-icon[data-v-441703df]{font-size:20px;color:#ccc}.empty-text[data-v-441703df]{font-size:10px;color:#ccc;margin-top:2px}',""]),t.exports=e}}]);