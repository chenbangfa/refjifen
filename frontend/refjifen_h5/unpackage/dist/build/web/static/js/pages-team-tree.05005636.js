(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-tree"],{"0511":function(e,t,a){var n=a("d7c8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("501b0bda",n,!0,{sourceMap:!1,shadowMode:!1})},"23cb":function(e,t,a){var n=a("62d5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("5e8e1ce4",n,!0,{sourceMap:!1,shadowMode:!1})},"37f0":function(e,t,a){"use strict";var n=a("23cb"),i=a.n(n);i.a},"414b":function(e,t,a){"use strict";a.r(t);var n=a("93a0"),i=a("6584");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d9e0");var s=a("828b"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"3fee13d8",null,!1,n["a"],void 0);t["default"]=c.exports},"4e82":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4626"),a("5ac7");var n={props:{current:{type:String,default:""}},data:function(){return{icons:{home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",home_active:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",member:"M12 2l-5.5 9h11L12 2zm0 3.8l2.6 4.2h-5.2L12 5.8zM5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z",member_active:"M5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z M12 2L6.5 11h11L12 2z",exchange:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V9h8v2zm-10 8H4v-2h6v2zm0-4H4v-2h6v2zm0-4H4V9h6v2z",order:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",profile:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",team:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",message:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}},computed:{mallList:function(){return[{pagePath:"pages/index/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/mall/category?zone=A",text:"会员专区",iconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z",selectedIconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z"},{pagePath:"pages/mall/category?zone=B",text:"兑换专区",iconPath:this.icons.exchange,selectedIconPath:this.icons.exchange},{pagePath:"pages/order/list",text:"订单",iconPath:this.icons.order,selectedIconPath:this.icons.order},{pagePath:"pages/mall/profile",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},agentList:function(){return[{pagePath:"pages/agent/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/team/tree",text:"团队",iconPath:this.icons.team,selectedIconPath:this.icons.team},{pagePath:"pages/message/list",text:"消息",iconPath:this.icons.message,selectedIconPath:this.icons.message},{pagePath:"pages/my/my",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},list:function(){var e=this.current;return e.includes("pages/agent")||e.includes("pages/team")||e.includes("pages/message")||"pages/my/my"===e?this.agentList:this.mallList}},methods:{switchTab:function(e){var t="/"+e.pagePath;uni.redirectTo({url:t})}}};t.default=n},"62d5":function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,'.tree-container[data-v-74242ec3]{display:flex;flex-direction:column;align-items:center}.node-wrapper-r[data-v-74242ec3]{padding:5px;display:flex;flex-direction:column;align-items:center;position:relative;z-index:2}.node-card-r[data-v-74242ec3]{background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);padding:8px;display:flex;align-items:center;min-width:140px;border:1px solid #eee;transition:.2s}.node-card-r[data-v-74242ec3]:active{-webkit-transform:scale(.95);transform:scale(.95);background:#e6f7ff}.node-card-r.is-root[data-v-74242ec3]{border:2px solid #1890ff;padding:12px;min-width:160px}.node-avatar-r[data-v-74242ec3]{width:30px;height:30px;border-radius:15px;background:#1890ff;color:#fff;display:flex;align-items:center;justify-content:center;font-size:10px;margin-right:8px;flex-shrink:0}.node-content[data-v-74242ec3]{font-size:12px;flex:1}.nc-name[data-v-74242ec3]{font-weight:700;color:#333;white-space:nowrap}.nc-id[data-v-74242ec3]{color:#999;-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:left;transform-origin:left}.nc-perf[data-v-74242ec3]{-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:left;transform-origin:left;margin-top:2px;color:#1890ff;white-space:nowrap}.node-stats-r[data-v-74242ec3]{font-size:10px;color:#666;background:#fafafa;padding:2px 6px;border-radius:10px;margin-top:4px;border:1px solid #eee;white-space:nowrap}.ns-item[data-v-74242ec3]{margin:0 4px}.children-wrapper[data-v-74242ec3]{display:flex;flex-direction:column;align-items:center;position:relative;width:100%}.line-v[data-v-74242ec3]{width:1px;height:10px;background:#ccc}.line-h[data-v-74242ec3]{width:50%;height:1px;background:#ccc;position:absolute;top:10px;left:25%}.children-row[data-v-74242ec3]{display:flex;justify-content:center;width:100%;padding-top:10px}.child-col[data-v-74242ec3]{display:flex;flex-direction:column;align-items:center;padding:0 2px;width:50%;box-sizing:border-box;position:relative}.child-col[data-v-74242ec3]::before{content:"";position:absolute;top:-10px;left:50%;width:1px;height:10px;background:#ccc}.empty-node-r[data-v-74242ec3]{width:36px;height:36px;border:1px dashed #ddd;border-radius:18px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:hsla(0,0%,100%,.5);margin-top:5px}.empty-plus[data-v-74242ec3]{color:#ccc;font-size:14px;line-height:1}.empty-label[data-v-74242ec3]{color:#ccc;font-size:9px;-webkit-transform:scale(.8);transform:scale(.8)}.expand-wrapper[data-v-74242ec3]{display:flex;flex-direction:column;align-items:center;cursor:pointer}.line-v-short[data-v-74242ec3]{width:1px;height:8px;background:#ccc}.expand-btn[data-v-74242ec3]{background:#f0faff;border:1px solid #1890ff;padding:2px 8px;border-radius:10px;display:flex;align-items:center;margin-top:0}.expand-icon[data-v-74242ec3]{font-size:12px;color:#1890ff;margin-right:2px}.expand-txt[data-v-74242ec3]{font-size:10px;color:#1890ff}',""]),e.exports=t},6584:function(e,t,a){"use strict";a.r(t);var n=a("8e6e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"65f0":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={treeChart:a("97b1").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"tree-container"},[a("v-uni-view",{staticClass:"node-wrapper-r"},[a("v-uni-view",{staticClass:"node-card-r",class:{"is-root":e.isRoot},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick(e.node)}}},[a("v-uni-view",{staticClass:"node-avatar-r"},[a("v-uni-text",{staticClass:"avatar-txt"},[e._v("用户")])],1),a("v-uni-view",{staticClass:"node-content"},[a("v-uni-view",{staticClass:"nc-name"},[e._v(e._s(e.node.nickname||"用户"+e.node.id))]),a("v-uni-view",{staticClass:"nc-id"},[e._v("ID: "+e._s(e.node.id))]),a("v-uni-view",{staticClass:"nc-perf",staticStyle:{color:"#1890ff"}},[e._v("个人: "+e._s(e.fmt(e.node.personal_performance)))])],1)],1),a("v-uni-view",{staticClass:"node-stats-r"},[a("v-uni-text",{staticClass:"ns-item"},[e._v("L: "+e._s(e.fmt(e.node.left_total)))]),a("v-uni-text",{staticClass:"ns-item"},[e._v("R: "+e._s(e.fmt(e.node.right_total)))])],1)],1),e.childrenLoaded?a("v-uni-view",{staticClass:"children-wrapper"},[a("v-uni-view",{staticClass:"line-v"}),e.hasBoth?a("v-uni-view",{staticClass:"line-h"}):e._e(),a("v-uni-view",{staticClass:"children-row"},[a("v-uni-view",{staticClass:"child-col"},[e.leftNode?a("tree-chart",{attrs:{node:e.leftNode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click",t)}}}):a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[e._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[e._v("左空")])],1)],1),a("v-uni-view",{staticClass:"child-col"},[e.rightNode?a("tree-chart",{attrs:{node:e.rightNode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click",t)}}}):a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[e._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[e._v("右空")])],1)],1)],1)],1):e.hasRealChildren?a("v-uni-view",{staticClass:"expand-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick(e.node)}}},[a("v-uni-view",{staticClass:"line-v-short"}),a("v-uni-view",{staticClass:"expand-btn"},[a("v-uni-text",{staticClass:"expand-icon"},[e._v("↓")]),a("v-uni-text",{staticClass:"expand-txt"},[e._v("查看团队")])],1)],1):a("v-uni-view",{staticClass:"children-wrapper"},[a("v-uni-view",{staticClass:"line-v"}),a("v-uni-view",{staticClass:"line-h"}),a("v-uni-view",{staticClass:"children-row"},[a("v-uni-view",{staticClass:"child-col"},[a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[e._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[e._v("左空")])],1)],1),a("v-uni-view",{staticClass:"child-col"},[a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[e._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[e._v("右空")])],1)],1)],1)],1)],1)},o=[]},"6b9e":function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".container[data-v-3fee13d8]{min-height:100%;background:#f5f7fa;padding-top:20px;padding-bottom:40px;position:relative}.top-controls[data-v-3fee13d8]{position:fixed;top:10px;right:20px;z-index:99;display:flex;flex-direction:column;gap:8px;align-items:flex-end}.ctrl-btn[data-v-3fee13d8]{font-size:12px;color:#1890ff;padding:4px 10px;border:1px solid #1890ff;border-radius:12px;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1)}.back-parent[data-v-3fee13d8]{background:#e6f7ff}.tree-scroll-view[data-v-3fee13d8]{width:100%;display:flex;justify-content:center;padding:10px 0;overflow-x:auto}.loading-txt[data-v-3fee13d8]{color:#999;margin-top:50px;font-size:14px}\n\n/* Remove old node styles as they are now in tree-chart.vue or unused */\n\n/* Float Btn & Modals (Keep existing styles) */.float-btn[data-v-3fee13d8]{position:fixed;bottom:80px;right:20px;width:60px;height:60px;background:linear-gradient(135deg,#1890ff,#36cfc9);border-radius:30px;box-shadow:0 4px 12px rgba(24,144,255,.4);display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;z-index:100}.float-txt[data-v-3fee13d8]{font-size:10px}.float-num[data-v-3fee13d8]{font-size:16px;font-weight:700}.modal-overlay[data-v-3fee13d8]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:200;display:flex;align-items:center;justify-content:center}.modal-card[data-v-3fee13d8]{width:85%;background:#fff;border-radius:12px;overflow:hidden;-webkit-animation:popIn-data-v-3fee13d8 .2s;animation:popIn-data-v-3fee13d8 .2s}@-webkit-keyframes popIn-data-v-3fee13d8{from{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes popIn-data-v-3fee13d8{from{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.modal-header[data-v-3fee13d8]{padding:15px;text-align:center;font-weight:700;border-bottom:1px solid #eee;background:#fafafa}.modal-body[data-v-3fee13d8]{padding:20px}.list-body[data-v-3fee13d8]{max-height:50vh;padding:0}.modal-footer[data-v-3fee13d8]{display:flex;border-top:1px solid #eee}.m-btn[data-v-3fee13d8]{flex:1;text-align:center;padding:15px 0;font-size:16px}.m-btn[data-v-3fee13d8]:active{background:#f0f0f0}.m-btn.cancel[data-v-3fee13d8]{color:#999;border-right:1px solid #eee}.m-btn.confirm[data-v-3fee13d8]{color:#1890ff;font-weight:700}.pending-item[data-v-3fee13d8]{padding:15px;border-bottom:1px solid #f5f5f5}.pending-item[data-v-3fee13d8]:last-child{border-bottom:none}.p-row[data-v-3fee13d8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px}.p-name[data-v-3fee13d8]{font-weight:700;font-size:14px}.p-btn[data-v-3fee13d8]{font-size:12px;color:#fff;background:#1890ff;padding:2px 10px;border-radius:10px}.p-info[data-v-3fee13d8]{font-size:12px;color:#999}.form-uinfo[data-v-3fee13d8]{text-align:center;margin-bottom:20px;font-size:14px}.form-label[data-v-3fee13d8]{font-size:14px;font-weight:700;margin-bottom:10px;color:#333}.form-input[data-v-3fee13d8]{width:100%;height:40px;border:1px solid #ddd;border-radius:6px;padding:0 10px;box-sizing:border-box;font-size:14px;margin-bottom:20px}.form-radio-group[data-v-3fee13d8]{display:flex;gap:20px}.radio-label[data-v-3fee13d8]{display:flex;align-items:center;font-size:14px}",""]),e.exports=t},"8e6e":function(e,t,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2634")),o=n(a("2fdc")),s=n(a("a372")),c=n(a("97b1")),r={components:{tabBar:s.default,treeChart:c.default},data:function(){return{team:{},myUserId:0,pendingList:[],showPendingModal:!1,showPlaceForm:!1,currentPending:{},placeForm:{parentId:"",position:"L"}}},onShow:function(){var e=uni.getStorageSync("user");e&&(this.myUserId=e.id),this.loadTeam(this.myUserId),this.loadPending()},methods:{loadTeam:function(e){var t=this;return(0,o.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return uni.showLoading({title:"加载中"}),a.prev=3,a.next=6,uni.$api("account.php?action=team&id=".concat(e));case 6:n=a.sent,uni.hideLoading(),200==n.code?t.team=n.data:uni.showToast({title:n.message,icon:"none"}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[3,11]])})))()},onNodeClick:function(e){e&&e.id&&this.loadTeam(e.id)},drillDown:function(e){this.loadTeam(e)},loadPending:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uni.$api("team.php?action=pending_list");case 3:a=t.sent,200==a.code&&(e.pendingList=a.data),t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},openPlaceForm:function(e){this.currentPending=e,this.placeForm.parentId="",this.placeForm.position="L",this.showPlaceForm=!0,this.showPendingModal=!1},submitPlacement:function(){var e=this;return(0,o.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.placeForm.parentId){t.next=2;break}return t.abrupt("return",uni.showToast({title:"请输入上级ID",icon:"none"}));case 2:return uni.showLoading({title:"处理中"}),t.prev=3,t.next=6,uni.$api("team.php?action=place_user","POST",{target_user_id:e.currentPending.id,parent_id:e.placeForm.parentId,position:e.placeForm.position});case 6:a=t.sent,uni.hideLoading(),200==a.code?(uni.showToast({title:"安置成功",icon:"success"}),e.showPlaceForm=!1,e.loadPending(),e.loadTeam(e.team.id)):uni.showToast({title:a.message,icon:"none"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),uni.hideLoading(),uni.showToast({title:"请求失败",icon:"none"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}};t.default=r},"93a0":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var n={treeChart:a("97b1").default,tabBar:a("a372").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"top-controls"},[e.team.id&&e.team.parent_id>0?a("v-uni-view",{staticClass:"ctrl-btn back-parent",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loadTeam(e.team.parent_id)}}},[e._v("返回上级")]):e._e(),e.team.id&&e.team.id!=e.myUserId?a("v-uni-view",{staticClass:"ctrl-btn back-top",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loadTeam(e.myUserId)}}},[e._v("返回我的")]):e._e()],1),a("v-uni-view",{staticClass:"tree-scroll-view"},[e.team&&e.team.id?a("tree-chart",{attrs:{node:e.team,isRoot:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onNodeClick.apply(void 0,arguments)}}}):a("v-uni-view",{staticClass:"loading-txt"},[e._v("加载中...")])],1),e.pendingList.length>0?a("v-uni-view",{staticClass:"float-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPendingModal=!0}}},[a("v-uni-view",{staticClass:"float-txt"},[e._v("待安置")]),a("v-uni-view",{staticClass:"float-num"},[e._v(e._s(e.pendingList.length))])],1):e._e(),e.showPendingModal?a("v-uni-view",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;arguments[0]=t=e.$handleEvent(t),e.showPendingModal=!1}}},[a("v-uni-view",{staticClass:"modal-card"},[a("v-uni-view",{staticClass:"modal-header"},[e._v("待安置列表")]),a("v-uni-scroll-view",{staticClass:"modal-body list-body",attrs:{"scroll-y":!0}},e._l(e.pendingList,(function(t){return a("v-uni-view",{key:t.id,staticClass:"pending-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.openPlaceForm(t)}}},[a("v-uni-view",{staticClass:"p-row"},[a("v-uni-text",{staticClass:"p-name"},[e._v(e._s(t.nickname||"未命名")+" (ID: "+e._s(t.id)+")")]),a("v-uni-text",{staticClass:"p-btn"},[e._v("安置")])],1),a("v-uni-view",{staticClass:"p-info"},[e._v("手机: "+e._s(t.mobile))]),a("v-uni-view",{staticClass:"p-info"},[e._v("注册: "+e._s(t.created_at.substring(0,10)))])],1)})),1),a("v-uni-view",{staticClass:"modal-footer"},[a("v-uni-view",{staticClass:"m-btn cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPendingModal=!1}}},[e._v("关闭")])],1)],1)],1):e._e(),e.showPlaceForm?a("v-uni-view",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;arguments[0]=t=e.$handleEvent(t),e.showPlaceForm=!1}}},[a("v-uni-view",{staticClass:"modal-card"},[a("v-uni-view",{staticClass:"modal-header"},[e._v("安置用户")]),a("v-uni-view",{staticClass:"modal-body"},[a("v-uni-view",{staticClass:"form-uinfo"},[e._v(" 正在安置: "),a("v-uni-text",{staticStyle:{color:"#1890ff","font-weight":"bold"}},[e._v(e._s(e.currentPending.nickname)+" (ID: "+e._s(e.currentPending.id)+")")])],1),a("v-uni-view",{staticClass:"form-label"},[e._v("上级ID (Parent ID)")]),a("v-uni-input",{staticClass:"form-input",attrs:{type:"number",placeholder:"请输入要放置的上级ID"},model:{value:e.placeForm.parentId,callback:function(t){e.$set(e.placeForm,"parentId",t)},expression:"placeForm.parentId"}}),a("v-uni-view",{staticClass:"form-label"},[e._v("放置区域 (Position)")]),a("v-uni-radio-group",{staticClass:"form-radio-group",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.placeForm.position=t.detail.value}}},[a("v-uni-label",{staticClass:"radio-label"},[a("v-uni-radio",{attrs:{value:"L",checked:"L"===e.placeForm.position,color:"#1890ff"}}),e._v(" 左区 (Left) ")],1),a("v-uni-label",{staticClass:"radio-label"},[a("v-uni-radio",{attrs:{value:"R",checked:"R"===e.placeForm.position,color:"#1890ff"}}),e._v(" 右区 (Right) ")],1)],1)],1),a("v-uni-view",{staticClass:"modal-footer"},[a("v-uni-view",{staticClass:"m-btn cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPlaceForm=!1}}},[e._v("取消")]),a("v-uni-view",{staticClass:"m-btn confirm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitPlacement.apply(void 0,arguments)}}},[e._v("确认安置")])],1)],1)],1):e._e(),a("tab-bar",{attrs:{current:"pages/team/tree"}})],1)},o=[]},"97b1":function(e,t,a){"use strict";a.r(t);var n=a("65f0"),i=a("b914");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("37f0");var s=a("828b"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"74242ec3",null,!1,n["a"],void 0);t["default"]=c.exports},a372:function(e,t,a){"use strict";a.r(t);var n=a("dbce"),i=a("c1d6");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("e226");var s=a("828b"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"72b1d97c",null,!1,n["a"],void 0);t["default"]=c.exports},b914:function(e,t,a){"use strict";a.r(t);var n=a("d8ac"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},c17e:function(e,t,a){var n=a("6b9e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("967d").default;i("20d09965",n,!0,{sourceMap:!1,shadowMode:!1})},c1d6:function(e,t,a){"use strict";a.r(t);var n=a("4e82"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d7c8:function(e,t,a){var n=a("c86c");t=n(!1),t.push([e.i,".tab-bar[data-v-72b1d97c]{position:fixed;bottom:0;left:0;right:0;height:50px;background:#fff;display:flex;padding-bottom:env(safe-area-inset-bottom);border-top:1px solid #eee;z-index:999}.tab-bar-item[data-v-72b1d97c]{flex:1;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}.icon-area[data-v-72b1d97c]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-bottom:2px}.tab-icon[data-v-72b1d97c]{width:24px;height:24px}.tab-text[data-v-72b1d97c]{font-size:10px;color:#7a7e83}.tab-text.active[data-v-72b1d97c]{color:#07c160}",""]),e.exports=t},d8ac:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("aa77"),a("bf0f"),a("e838");var n={name:"tree-chart",props:{node:{type:Object,default:function(){return{}}},isRoot:{type:Boolean,default:!1}},computed:{childrenLoaded:function(){return this.node.children&&this.node.children.length>0},hasRealChildren:function(){return(this.node.child_count||0)>0},leftNode:function(){return(this.node.children||[]).find((function(e){return"L"==e.position}))},rightNode:function(){return(this.node.children||[]).find((function(e){return"R"==e.position}))},hasBoth:function(){return!0}},methods:{fmt:function(e){return parseFloat(e||0).toFixed(2)},handleClick:function(e){this.$emit("click",e)}}};t.default=n},d9e0:function(e,t,a){"use strict";var n=a("c17e"),i=a.n(n);i.a},dbce:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"tab-bar"},e._l(e.list,(function(t,n){return a("v-uni-view",{key:n,staticClass:"tab-bar-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.switchTab(t)}}},[a("v-uni-view",{staticClass:"icon-area"},[a("svg",{staticClass:"tab-icon",attrs:{viewBox:"0 0 24 24",width:"24",height:"24"}},[a("path",{attrs:{d:e.current===t.pagePath?t.selectedIconPath:t.iconPath,fill:e.current===t.pagePath?"#07C160":"#7A7E83"}})])]),a("v-uni-view",{staticClass:"tab-text",class:{active:e.current===t.pagePath}},[e._v(e._s(t.text))])],1)})),1)},i=[]},e226:function(e,t,a){"use strict";var n=a("0511"),i=a.n(n);i.a}}]);