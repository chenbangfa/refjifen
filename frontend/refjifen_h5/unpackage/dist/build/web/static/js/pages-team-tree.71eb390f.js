(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-team-tree"],{"0511":function(t,e,a){var n=a("d7c8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("501b0bda",n,!0,{sourceMap:!1,shadowMode:!1})},"414b":function(t,e,a){"use strict";a.r(e);var n=a("9bdd"),i=a("6584");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("780a");var s=a("828b"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"3fe7fda0",null,!1,n["a"],void 0);e["default"]=r.exports},"4e82":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4626"),a("5ac7");var n={props:{current:{type:String,default:""}},data:function(){return{icons:{home:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",home_active:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z",member:"M12 2l-5.5 9h11L12 2zm0 3.8l2.6 4.2h-5.2L12 5.8zM5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z",member_active:"M5 13c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5zm0 2h14v4H5v-4z M12 2L6.5 11h11L12 2z",exchange:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15h-8v-2h8v2zm0-4h-8v-2h8v2zm0-4h-8V9h8v2zm-10 8H4v-2h6v2zm0-4H4v-2h6v2zm0-4H4V9h6v2z",order:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z",profile:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",team:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",message:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}},computed:{mallList:function(){return[{pagePath:"pages/index/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/mall/category?zone=A",text:"会员专区",iconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z",selectedIconPath:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 11l-2.5-1.25L12 11zm0 2.5l-5-2.5-2 1L12 17l7-5-2-1-5 2.5z"},{pagePath:"pages/mall/category?zone=B",text:"兑换专区",iconPath:this.icons.exchange,selectedIconPath:this.icons.exchange},{pagePath:"pages/order/list",text:"订单",iconPath:this.icons.order,selectedIconPath:this.icons.order},{pagePath:"pages/mall/profile",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},agentList:function(){return[{pagePath:"pages/agent/index",text:"首页",iconPath:this.icons.home,selectedIconPath:this.icons.home_active},{pagePath:"pages/team/tree",text:"团队",iconPath:this.icons.team,selectedIconPath:this.icons.team},{pagePath:"pages/message/list",text:"消息",iconPath:this.icons.message,selectedIconPath:this.icons.message},{pagePath:"pages/my/my",text:"我的",iconPath:this.icons.profile,selectedIconPath:this.icons.profile}]},list:function(){var t=this.current;return t.includes("pages/agent")||t.includes("pages/team")||t.includes("pages/message")||"pages/my/my"===t?this.agentList:this.mallList}},methods:{switchTab:function(t){var e="/"+t.pagePath;uni.redirectTo({url:e})}}};e.default=n},"62a0":function(t,e,a){var n=a("772f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("d6f34908",n,!0,{sourceMap:!1,shadowMode:!1})},6584:function(t,e,a){"use strict";a.r(e);var n=a("8e6e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"6d49":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={treeChart:a("97b1").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tree-container"},[a("v-uni-view",{staticClass:"node-wrapper-r"},[a("v-uni-view",{staticClass:"node-card-r",class:{"is-root":t.isRoot},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(t.node)}}},[a("v-uni-view",{staticClass:"node-avatar-r"},[a("v-uni-text",{staticClass:"avatar-txt"},[t._v("用户")])],1),a("v-uni-view",{staticClass:"node-content"},[a("v-uni-view",{staticClass:"nc-name"},[t._v(t._s(t.node.nickname||"用户"+(t.node.invite_code||t.node.id)))]),a("v-uni-view",{staticClass:"nc-id"},[t._v("UID: "+t._s(t.node.invite_code))]),a("v-uni-view",{staticClass:"nc-perf",staticStyle:{color:"#1890ff"}},[t._v("个人: "+t._s(t.fmt(t.node.personal_performance)))])],1)],1),a("v-uni-view",{staticClass:"node-stats-r"},[a("v-uni-text",{staticClass:"ns-item"},[t._v("L: "+t._s(t.fmt(t.node.left_total)))]),a("v-uni-text",{staticClass:"ns-item"},[t._v("R: "+t._s(t.fmt(t.node.right_total)))])],1)],1),t.childrenLoaded?a("v-uni-view",{staticClass:"children-wrapper"},[a("v-uni-view",{staticClass:"line-v"}),t.hasBoth?a("v-uni-view",{staticClass:"line-h"}):t._e(),a("v-uni-view",{staticClass:"children-row"},[a("v-uni-view",{staticClass:"child-col"},[t.leftNode?a("tree-chart",{attrs:{node:t.leftNode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click",e)}}}):a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[t._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[t._v("左空")])],1)],1),a("v-uni-view",{staticClass:"child-col"},[t.rightNode?a("tree-chart",{attrs:{node:t.rightNode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click",e)}}}):a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[t._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[t._v("右空")])],1)],1)],1)],1):t.hasRealChildren?a("v-uni-view",{staticClass:"expand-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(t.node)}}},[a("v-uni-view",{staticClass:"line-v-short"}),a("v-uni-view",{staticClass:"expand-btn"},[a("v-uni-text",{staticClass:"expand-icon"},[t._v("↓")]),a("v-uni-text",{staticClass:"expand-txt"},[t._v("查看团队")])],1)],1):a("v-uni-view",{staticClass:"children-wrapper"},[a("v-uni-view",{staticClass:"line-v"}),a("v-uni-view",{staticClass:"line-h"}),a("v-uni-view",{staticClass:"children-row"},[a("v-uni-view",{staticClass:"child-col"},[a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[t._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[t._v("左空")])],1)],1),a("v-uni-view",{staticClass:"child-col"},[a("v-uni-view",{staticClass:"empty-node-r"},[a("v-uni-text",{staticClass:"empty-plus"},[t._v("+")]),a("v-uni-text",{staticClass:"empty-label"},[t._v("右空")])],1)],1)],1)],1)],1)},o=[]},"772f":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,".container[data-v-3fe7fda0]{min-height:100%;background:#f5f7fa;padding-top:20px;padding-bottom:40px;position:relative}.top-controls[data-v-3fe7fda0]{position:fixed;top:10px;right:20px;z-index:99;display:flex;flex-direction:column;gap:8px;align-items:flex-end}.ctrl-btn[data-v-3fe7fda0]{font-size:12px;color:#1890ff;padding:4px 10px;border:1px solid #1890ff;border-radius:12px;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1)}.back-parent[data-v-3fe7fda0]{background:#e6f7ff}.tree-scroll-view[data-v-3fe7fda0]{width:100%;display:flex;justify-content:center;padding:10px 0;overflow-x:auto}.loading-txt[data-v-3fe7fda0]{color:#999;margin-top:50px;font-size:14px}\n\n/* Remove old node styles as they are now in tree-chart.vue or unused */\n\n/* Float Btn & Modals (Keep existing styles) */.float-btn[data-v-3fe7fda0]{position:fixed;bottom:80px;right:20px;width:60px;height:60px;background:linear-gradient(135deg,#1890ff,#36cfc9);border-radius:30px;box-shadow:0 4px 12px rgba(24,144,255,.4);display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;z-index:100}.float-txt[data-v-3fe7fda0]{font-size:10px}.float-num[data-v-3fe7fda0]{font-size:16px;font-weight:700}.modal-overlay[data-v-3fe7fda0]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:200;display:flex;align-items:center;justify-content:center}.modal-card[data-v-3fe7fda0]{width:85%;background:#fff;border-radius:12px;overflow:hidden;-webkit-animation:popIn-data-v-3fe7fda0 .2s;animation:popIn-data-v-3fe7fda0 .2s}@-webkit-keyframes popIn-data-v-3fe7fda0{from{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes popIn-data-v-3fe7fda0{from{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.modal-header[data-v-3fe7fda0]{padding:15px;text-align:center;font-weight:700;border-bottom:1px solid #eee;background:#fafafa}.modal-body[data-v-3fe7fda0]{padding:20px}.list-body[data-v-3fe7fda0]{max-height:50vh;padding:0}.modal-footer[data-v-3fe7fda0]{display:flex;border-top:1px solid #eee}.m-btn[data-v-3fe7fda0]{flex:1;text-align:center;padding:15px 0;font-size:16px}.m-btn[data-v-3fe7fda0]:active{background:#f0f0f0}.m-btn.cancel[data-v-3fe7fda0]{color:#999;border-right:1px solid #eee}.m-btn.confirm[data-v-3fe7fda0]{color:#1890ff;font-weight:700}.pending-item[data-v-3fe7fda0]{padding:15px;border-bottom:1px solid #f5f5f5}.pending-item[data-v-3fe7fda0]:last-child{border-bottom:none}.p-row[data-v-3fe7fda0]{display:flex;justify-content:space-between;align-items:center;margin-bottom:5px}.p-name[data-v-3fe7fda0]{font-weight:700;font-size:14px}.p-btn[data-v-3fe7fda0]{font-size:12px;color:#fff;background:#1890ff;padding:2px 10px;border-radius:10px}.p-info[data-v-3fe7fda0]{font-size:12px;color:#999}.form-uinfo[data-v-3fe7fda0]{text-align:center;margin-bottom:20px;font-size:14px}.form-label[data-v-3fe7fda0]{font-size:14px;font-weight:700;margin-bottom:10px;color:#333}.form-input[data-v-3fe7fda0]{width:100%;height:40px;border:1px solid #ddd;border-radius:6px;padding:0 10px;box-sizing:border-box;font-size:14px;margin-bottom:20px}.form-radio-group[data-v-3fe7fda0]{display:flex;gap:20px}.radio-label[data-v-3fe7fda0]{display:flex;align-items:center;font-size:14px}",""]),t.exports=e},"780a":function(t,e,a){"use strict";var n=a("62a0"),i=a.n(n);i.a},"8e6e":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2634")),o=n(a("2fdc")),s=n(a("a372")),r=n(a("97b1")),c={components:{tabBar:s.default,treeChart:r.default},data:function(){return{team:{},myUserId:0,pendingList:[],showPendingModal:!1,showPlaceForm:!1,currentPending:{},placeForm:{parentId:"",position:"L"}}},onShow:function(){var t=uni.getStorageSync("user");t&&(this.myUserId=t.id),this.loadTeam(this.myUserId),this.loadPending()},methods:{loadTeam:function(t){var e=this;return(0,o.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return uni.showLoading({title:"加载中"}),a.prev=3,a.next=6,uni.$api("account.php?action=team&id=".concat(t));case 6:n=a.sent,uni.hideLoading(),200==n.code?e.team=n.data:uni.showToast({title:n.message,icon:"none"}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[3,11]])})))()},onNodeClick:function(t){t&&t.id&&this.loadTeam(t.id)},drillDown:function(t){this.loadTeam(t)},loadPending:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uni.$api("team.php?action=pending_list");case 3:a=e.sent,200==a.code&&(t.pendingList=a.data),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},openPlaceForm:function(t){this.currentPending=t,this.placeForm.parentId="",this.placeForm.position="L",this.showPlaceForm=!0,this.showPendingModal=!1},submitPlacement:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.placeForm.parentId){e.next=2;break}return e.abrupt("return",uni.showToast({title:"请输入上级UID",icon:"none"}));case 2:return uni.showLoading({title:"处理中"}),e.prev=3,e.next=6,uni.$api("team.php?action=place_user","POST",{target_user_id:t.currentPending.id,parent_code:t.placeForm.parentId,position:t.placeForm.position});case 6:a=e.sent,uni.hideLoading(),200==a.code?(uni.showToast({title:"安置成功",icon:"success"}),t.showPlaceForm=!1,t.loadPending(),t.loadTeam(t.team.id)):uni.showToast({title:a.message,icon:"none"}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](3),uni.hideLoading(),uni.showToast({title:"请求失败",icon:"none"});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}};e.default=c},"97b1":function(t,e,a){"use strict";a.r(e);var n=a("6d49"),i=a("b914");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("dee8");var s=a("828b"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"4fd07364",null,!1,n["a"],void 0);e["default"]=r.exports},"9a98":function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'.tree-container[data-v-4fd07364]{display:flex;flex-direction:column;align-items:center}.node-wrapper-r[data-v-4fd07364]{padding:5px;display:flex;flex-direction:column;align-items:center;position:relative;z-index:2}.node-card-r[data-v-4fd07364]{background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);padding:8px;display:flex;align-items:center;min-width:140px;border:1px solid #eee;transition:.2s}.node-card-r[data-v-4fd07364]:active{-webkit-transform:scale(.95);transform:scale(.95);background:#e6f7ff}.node-card-r.is-root[data-v-4fd07364]{border:2px solid #1890ff;padding:12px;min-width:160px}.node-avatar-r[data-v-4fd07364]{width:30px;height:30px;border-radius:15px;background:#1890ff;color:#fff;display:flex;align-items:center;justify-content:center;font-size:10px;margin-right:8px;flex-shrink:0}.node-content[data-v-4fd07364]{font-size:12px;flex:1}.nc-name[data-v-4fd07364]{font-weight:700;color:#333;white-space:nowrap}.nc-id[data-v-4fd07364]{color:#999;-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:left;transform-origin:left}.nc-perf[data-v-4fd07364]{-webkit-transform:scale(.9);transform:scale(.9);-webkit-transform-origin:left;transform-origin:left;margin-top:2px;color:#1890ff;white-space:nowrap}.node-stats-r[data-v-4fd07364]{font-size:10px;color:#666;background:#fafafa;padding:2px 6px;border-radius:10px;margin-top:4px;border:1px solid #eee;white-space:nowrap}.ns-item[data-v-4fd07364]{margin:0 4px}.children-wrapper[data-v-4fd07364]{display:flex;flex-direction:column;align-items:center;position:relative;width:100%}.line-v[data-v-4fd07364]{width:1px;height:10px;background:#ccc}.line-h[data-v-4fd07364]{width:50%;height:1px;background:#ccc;position:absolute;top:10px;left:25%}.children-row[data-v-4fd07364]{display:flex;justify-content:center;width:100%;padding-top:10px}.child-col[data-v-4fd07364]{display:flex;flex-direction:column;align-items:center;padding:0 2px;width:50%;box-sizing:border-box;position:relative}.child-col[data-v-4fd07364]::before{content:"";position:absolute;top:-10px;left:50%;width:1px;height:10px;background:#ccc}.empty-node-r[data-v-4fd07364]{width:36px;height:36px;border:1px dashed #ddd;border-radius:18px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:hsla(0,0%,100%,.5);margin-top:5px}.empty-plus[data-v-4fd07364]{color:#ccc;font-size:14px;line-height:1}.empty-label[data-v-4fd07364]{color:#ccc;font-size:9px;-webkit-transform:scale(.8);transform:scale(.8)}.expand-wrapper[data-v-4fd07364]{display:flex;flex-direction:column;align-items:center;cursor:pointer}.line-v-short[data-v-4fd07364]{width:1px;height:8px;background:#ccc}.expand-btn[data-v-4fd07364]{background:#f0faff;border:1px solid #1890ff;padding:2px 8px;border-radius:10px;display:flex;align-items:center;margin-top:0}.expand-icon[data-v-4fd07364]{font-size:12px;color:#1890ff;margin-right:2px}.expand-txt[data-v-4fd07364]{font-size:10px;color:#1890ff}',""]),t.exports=e},"9bdd":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={treeChart:a("97b1").default,tabBar:a("a372").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"top-controls"},[t.team.id&&t.team.parent_id>0?a("v-uni-view",{staticClass:"ctrl-btn back-parent",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadTeam(t.team.parent_id)}}},[t._v("返回上级")]):t._e(),t.team.id&&t.team.id!=t.myUserId?a("v-uni-view",{staticClass:"ctrl-btn back-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadTeam(t.myUserId)}}},[t._v("返回我的")]):t._e()],1),a("v-uni-view",{staticClass:"tree-scroll-view"},[t.team&&t.team.id?a("tree-chart",{attrs:{node:t.team,isRoot:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onNodeClick.apply(void 0,arguments)}}}):a("v-uni-view",{staticClass:"loading-txt"},[t._v("加载中...")])],1),t.pendingList.length>0?a("v-uni-view",{staticClass:"float-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPendingModal=!0}}},[a("v-uni-view",{staticClass:"float-txt"},[t._v("待安置")]),a("v-uni-view",{staticClass:"float-num"},[t._v(t._s(t.pendingList.length))])],1):t._e(),t.showPendingModal?a("v-uni-view",{staticClass:"modal-overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.showPendingModal=!1}}},[a("v-uni-view",{staticClass:"modal-card"},[a("v-uni-view",{staticClass:"modal-header"},[t._v("待安置列表")]),a("v-uni-scroll-view",{staticClass:"modal-body list-body",attrs:{"scroll-y":!0}},t._l(t.pendingList,(function(e){return a("v-uni-view",{key:e.id,staticClass:"pending-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.openPlaceForm(e)}}},[a("v-uni-view",{staticClass:"p-row"},[a("v-uni-text",{staticClass:"p-name"},[t._v(t._s(e.nickname||"未命名")+" (UID: "+t._s(e.invite_code)+")")]),a("v-uni-text",{staticClass:"p-btn"},[t._v("安置")])],1),a("v-uni-view",{staticClass:"p-info"},[t._v("手机: "+t._s(e.mobile))]),a("v-uni-view",{staticClass:"p-info"},[t._v("注册: "+t._s(e.created_at.substring(0,10)))])],1)})),1),a("v-uni-view",{staticClass:"modal-footer"},[a("v-uni-view",{staticClass:"m-btn cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPendingModal=!1}}},[t._v("关闭")])],1)],1)],1):t._e(),t.showPlaceForm?a("v-uni-view",{staticClass:"modal-overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.showPlaceForm=!1}}},[a("v-uni-view",{staticClass:"modal-card"},[a("v-uni-view",{staticClass:"modal-header"},[t._v("安置用户")]),a("v-uni-view",{staticClass:"modal-body"},[a("v-uni-view",{staticClass:"form-uinfo"},[t._v(" 正在安置: "),a("v-uni-text",{staticStyle:{color:"#1890ff","font-weight":"bold"}},[t._v(t._s(t.currentPending.nickname)+" (UID: "+t._s(t.currentPending.invite_code)+")")])],1),a("v-uni-view",{staticClass:"form-label"},[t._v("上级UID (Parent UID)")]),a("v-uni-input",{staticClass:"form-input",attrs:{type:"text",placeholder:"请输入要放置的上级邀请码"},model:{value:t.placeForm.parentId,callback:function(e){t.$set(t.placeForm,"parentId",e)},expression:"placeForm.parentId"}}),a("v-uni-view",{staticClass:"form-label"},[t._v("放置区域 (Position)")]),a("v-uni-radio-group",{staticClass:"form-radio-group",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.placeForm.position=e.detail.value}}},[a("v-uni-label",{staticClass:"radio-label"},[a("v-uni-radio",{attrs:{value:"L",checked:"L"===t.placeForm.position,color:"#1890ff"}}),t._v(" 左区 (Left) ")],1),a("v-uni-label",{staticClass:"radio-label"},[a("v-uni-radio",{attrs:{value:"R",checked:"R"===t.placeForm.position,color:"#1890ff"}}),t._v(" 右区 (Right) ")],1)],1)],1),a("v-uni-view",{staticClass:"modal-footer"},[a("v-uni-view",{staticClass:"m-btn cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPlaceForm=!1}}},[t._v("取消")]),a("v-uni-view",{staticClass:"m-btn confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitPlacement.apply(void 0,arguments)}}},[t._v("确认安置")])],1)],1)],1):t._e(),a("tab-bar",{attrs:{current:"pages/team/tree"}})],1)},o=[]},a372:function(t,e,a){"use strict";a.r(e);var n=a("dbce"),i=a("c1d6");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("e226");var s=a("828b"),r=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"72b1d97c",null,!1,n["a"],void 0);e["default"]=r.exports},b914:function(t,e,a){"use strict";a.r(e);var n=a("d8ac"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},c1d6:function(t,e,a){"use strict";a.r(e);var n=a("4e82"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},d7c8:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,".tab-bar[data-v-72b1d97c]{position:fixed;bottom:0;left:0;right:0;height:50px;background:#fff;display:flex;padding-bottom:env(safe-area-inset-bottom);border-top:1px solid #eee;z-index:999}.tab-bar-item[data-v-72b1d97c]{flex:1;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column}.icon-area[data-v-72b1d97c]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-bottom:2px}.tab-icon[data-v-72b1d97c]{width:24px;height:24px}.tab-text[data-v-72b1d97c]{font-size:10px;color:#7a7e83}.tab-text.active[data-v-72b1d97c]{color:#07c160}",""]),t.exports=e},d8ac:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("aa77"),a("bf0f"),a("e838");var n={name:"tree-chart",props:{node:{type:Object,default:function(){return{}}},isRoot:{type:Boolean,default:!1}},computed:{childrenLoaded:function(){return this.node.children&&this.node.children.length>0},hasRealChildren:function(){return(this.node.child_count||0)>0},leftNode:function(){return(this.node.children||[]).find((function(t){return"L"==t.position}))},rightNode:function(){return(this.node.children||[]).find((function(t){return"R"==t.position}))},hasBoth:function(){return!0}},methods:{fmt:function(t){return parseFloat(t||0).toFixed(2)},handleClick:function(t){this.$emit("click",t)}}};e.default=n},dbce:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"tab-bar"},t._l(t.list,(function(e,n){return a("v-uni-view",{key:n,staticClass:"tab-bar-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchTab(e)}}},[a("v-uni-view",{staticClass:"icon-area"},[a("svg",{staticClass:"tab-icon",attrs:{viewBox:"0 0 24 24",width:"24",height:"24"}},[a("path",{attrs:{d:t.current===e.pagePath?e.selectedIconPath:e.iconPath,fill:t.current===e.pagePath?"#07C160":"#7A7E83"}})])]),a("v-uni-view",{staticClass:"tab-text",class:{active:t.current===e.pagePath}},[t._v(t._s(e.text))])],1)})),1)},i=[]},dee8:function(t,e,a){"use strict";var n=a("e89f"),i=a.n(n);i.a},e226:function(t,e,a){"use strict";var n=a("0511"),i=a.n(n);i.a},e89f:function(t,e,a){var n=a("9a98");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("52ed3fe4",n,!0,{sourceMap:!1,shadowMode:!1})}}]);